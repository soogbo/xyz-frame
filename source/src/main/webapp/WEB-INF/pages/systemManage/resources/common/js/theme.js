/** * Created by fual on 2015/6/2. */var basePath = "systemManage/";$(document).ready(function () {    //themes, change CSS with JS    //default theme(CSS) is cerulean, change it if needed    var defaultTheme = 'cerulean';    var currentTheme = $.cookie('currentTheme') == null ? defaultTheme : $.cookie('currentTheme');    var msie = navigator.userAgent.match(/msie/i);    $.browser = {};    $.browser.msie = {};    switchTheme(currentTheme);    $('#themes a').click(function (e) {        e.preventDefault();        currentTheme = $(this).attr('data-value');        $.cookie('currentTheme', currentTheme, {expires: 365});        switchTheme(currentTheme);    });    function switchTheme(themeName) {        if (themeName == 'classic') {            $('#bs-css').attr('href', basePath+'resources/common/css/bootstrap.min.css');        } else {            $('#bs-css').attr('href', basePath+'resources/common/css/bootstrap-' + themeName + '.min.css');        }        $('#themes i').removeClass('glyphicon glyphicon-ok whitespace').addClass('whitespace');        $('#themes a[data-value=' + themeName + ']').find('i').removeClass('whitespace').addClass('glyphicon glyphicon-ok');        resetAllIframeTheme(document, themeName);    }    function resetAllIframeTheme(doc, themeName) {        var frames = doc.getElementsByTagName("iframe");        if (frames.length <= 0) {            return;        }        for (var i = 0; i < frames.length; i++) {            var frame = frames[i];            var cssObj = frame.contentDocument.getElementById("bs-css");            if (themeName == 'classic') {                $(cssObj).attr('href', basePath+'resources/common/css/bootstrap.min.css');            } else {                $(cssObj).attr('href', basePath+'resources/common/css/bootstrap-' + themeName + '.min.css');            }            resetAllIframeTheme(frame.contentDocument, themeName);        }    }    menuClickAction();});function menuClickAction(){    $('.navbar-toggle').click(function (e) {        e.preventDefault();        $('.nav-sm').html($('.navbar-collapse').html());        $('.sidebar-nav').toggleClass('active');        $(this).toggleClass('active');    });    var $sidebarNav = $('.sidebar-nav');    // Hide responsive navbar on clicking outside    $(document).mouseup(function (e) {        if (!$sidebarNav.is(e.target) // if the target of the click isn't the container...            && $sidebarNav.has(e.target).length === 0            && !$('.navbar-toggle').is(e.target)            && $('.navbar-toggle').has(e.target).length === 0            && $sidebarNav.hasClass('active')            ) {            e.stopPropagation();            $('.navbar-toggle').click();        }    });    $('.accordion > a').click(function (e) {        e.preventDefault();        var $ul = $(this).siblings('ul');        var $li = $(this).parent();        if ($ul.is(':visible')) {            $li.removeClass('active');        }        else {            $li.addClass('active');        }        $ul.slideToggle();    });}